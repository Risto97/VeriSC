set(USE_VCS @USE_VCS@)
set(CMAKE_MIN_VERSION 3.25)
set(CMAKE_CXX_STANDARD @CMAKE_CXX_STANDARD@)

find_file(gcc_conf_cmake "gcc_conf.cmake"
    PATHS "$ENV{SC_UVM_ENV_HOME}/open" NO_DEFAULT_PATH)
include(${gcc_conf_cmake})

find_file(verilator_cmake "verilator.cmake"
    PATHS "$ENV{SC_UVM_ENV_HOME}/cmake" NO_DEFAULT_PATH
    NO_CACHE
    )
include(${verilator_cmake})

if(USE_VCS)
find_file(vcs_cmake "vcs.cmake"
    PATHS "$ENV{SC_UVM_ENV_HOME}/cmake/synopsys" NO_DEFAULT_PATH
    NO_CACHE
    )
include(${vcs_cmake})
endif()

function(make_rtl OUT_LIB RTL_LIB)
    verilate_rtl(${OUT_LIB} ${RTL_LIB})
    if(USE_VCS)
        vcs_rtl(${OUT_LIB} ${RTL_LIB})
    endif()
endfunction()

function(make_tb SC_LIB RTL_LIBS)
    verilate_tb(${SC_LIB} "${RTL_LIBS}")
    if(USE_VCS)
        vcs_tb(${SC_LIB} "${RTL_LIBS}")
    endif()
endfunction()
